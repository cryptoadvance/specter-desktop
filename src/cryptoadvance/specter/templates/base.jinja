<!DOCTYPE html>
<html>
	<head>
		<link rel="shortcut icon" type="image/png" href="/static/img/icon.png"/>
		<title>Specter Desktop</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="/static/styles.css?{{rand}}">
	</head>
	<body>
	{% if specter.config.auth == "none" or current_user.is_authenticated %}
		{% include "includes/overlay/overlay.html" %}
		{% include "includes/qr-code.html" %}
	{% endif %}
	{% include "includes/message-box.html" %}
	<div class="row holder">
		{% block sidebar %}
			{% include "includes/sidebar/sidebar.jinja" %}
		{% endblock %}
		<main>		
			{% if specter.config.auth != "none" and current_user.is_authenticated and not hwi_bridge %}
				<a class="logout" href="{{ url_for('logout') }}">
					<img src="/static/img/exit_from_app-24px.svg" style="width: 24px;"/><div>Logout</div>
				</a>
			{% else %}
				<div><br><br></div>
			{% endif %}
			<img id="menubtn" src="/static/img/menu.svg"/>

			<div id="messages">
			{% with messages = get_flashed_messages(with_categories=True) %}
				{% if messages %}
					{% for category, message in messages | unique %}
						<message-box type="{{ category }}">{{ message }}</message-box>
					{% endfor %}
				{% endif %}
			{% endwith %}
			{% if error %}
				<message-box type="error">ERROR: {{error}}</message-box>
			{% endif %}
			</div>

			{% block main %}
				{% if error %}
					<br><br>Something went wrong :(<br><br>{{error}}
				{% else %}
					<br><br>Nothing here
				{% endif %}
			{% endblock %}
		</main>
	</div>

	<script type="text/javascript" src="/static/helpers.js"></script>

	{% block scripts %}
	{% endblock %}
	</body>
</html>
